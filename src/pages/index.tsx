import { type NextPage } from "next";
import Image from "next/image";
import Head from "next/head";
import Link from "next/link";
import { signIn, signOut, useSession } from "next-auth/react";

import { api } from "~/utils/api";

const Home: NextPage = () => {
  // const hello = api.user.hello.useQuery({ text: "from STALS Developers" });
  return (
    <>
      <Head>
        <title>STALS</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="flex min-h-screen flex-col items-start justify-start bg-gradient-to-b from-[#174A79] to-[#8FB0DB]">
        <div className="container flex flex-col items-start justify-start gap-8 px-4 py-16">
          <Image
            src="https://mdbootstrap.com//img/Photos/Square/1.jpg"
            className="flex h-40 w-40 flex-col items-start rounded-full object-scale-down object-left"
            alt="STALS Logo"
          />

          <h1 className="text-5xl font-extrabold tracking-tight text-white sm:text-[5rem]">
            <span className="text-[#FFFFFF]">WELCOME TO STALS!</span>
          </h1>

          <p className="pr-80 font-sans text-xl leading-normal tracking-wider text-white">
            <span className="text-[#FFFFFF]">
              Welcome to the Student Accomodation and Lodging System (STALS)!
              This is an information system that allows users to search, get
              information, review, and report hotels, apartments, bed spaces,
              dormitories, and transient spaces in Los Baños.
            </span>
          </p>

          <div className="grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-8"></div>

          <div className="flex flex-col items-start gap-2">
            <p className="text-sm text-white">
              {/* {hello.data ? hello.data.greeting : "Loading tRPC query..."} */}
            </p>
            <AuthShowcase />
          </div>
        </div>
      </main>
    </>
  );
};

/* 
LOGO

WELCOME TO STALS!
Welcome to the Student Accomodation and Lodging System (STALS)!
This is an information system that allows users to search, get
information, review, and report hotels, apartments, bed spaces, 
dormitories, and transient spaces in Los Baños.

<GET STARTED>
*/

export default Home;

const AuthShowcase: React.FC = () => {
  const { data: sessionData } = useSession();

  // const { data: secretMessage } = api.user.getSecretMessage.useQuery(
  //   undefined, // no input
  //   { enabled: sessionData?.user !== undefined },
  // );

  return (
    <div className="flex flex-col items-start justify-start gap-4">
      <p className="text-start text-2xl text-white">
        {sessionData && <span>Logged in as {sessionData.user?.name}</span>}
        {/* {secretMessage && <span> - {secretMessage}</span>} */}
      </p>
      <button
        className="rounded-full bg-white/10 px-10 py-3 font-semibold text-white no-underline transition hover:bg-white/20"
        onClick={sessionData ? () => void signOut() : () => void signIn()}
      >
        {sessionData ? "Sign out" : "Get Started"}
      </button>
    </div>
  );
};
